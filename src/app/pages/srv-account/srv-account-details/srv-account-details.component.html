<nb-card>
  <nb-card-body>
    <!--ACTION BUTTONS-->
    <div class="row">
      <button
        (click)="onClickHome()"
        ghost
        size="small"
        status="primary"
        class="hvr-bob"
        nbButton
      >
        <nb-icon icon="home-outline" status="primary"></nb-icon>
        Home
      </button>
      <button
        (click)="onClickBack()"
        ghost
        size="small"
        status="primary"
        class="hvr-bob"
        nbButton
      >
        <nb-icon icon="arrowhead-left-outline" status="primary"></nb-icon>
        Back
      </button>
      <button
        (click)="onEventClick()"
        ghost
        size="small"
        status="primary"
        class="hvr-bob"
        nbButton
      >
        <nb-icon icon="save-outline" status="danger"></nb-icon>
        Save
      </button>
      <button
        (click)="onEventClick()"
        ghost
        size="small"
        status="primary"
        class="hvr-bob"
        nbButton
      >
        <nb-icon icon="refresh-outline" status="primary"></nb-icon>
        Reset
      </button>
      <button
        (click)="onEventClick()"
        ghost
        size="small"
        status="primary"
        class="hvr-bob"
        nbButton
      >
        <nb-icon icon="expand-outline" status="danger"></nb-icon>
        Edit Account
      </button>
    </div>
  </nb-card-body>
</nb-card>

<div class="srv-detail">
  <nb-card>
    <nb-card-header>
      <span class="text-primary font-weight-bold">
        <nb-icon icon="flash-outline" pack="eva" status="danger"></nb-icon>
        Service Account
      </span>
    </nb-card-header>
    <div class="details-card">
      <nb-card-body>
        <div class="srv-detail-container">
          <div class="c-detail-item">
            <div class="c-detail-item-title">Customer ID</div>
            <div class="c-detail-item-value text-danger">
              <a
                class="hvr-grow"
                [routerLink]="
                  '/pages/customer/' + (serviceAccount | async).customer_id
                "
                routerLinkActive="active"
              >
                <span>
                  <nb-icon
                    icon="people-outline"
                    pack="eva"
                    status="danger"
                  ></nb-icon>
                  {{ (serviceAccount | async).customer_id }}
                </span>
              </a>
            </div>
          </div>
          <div class="c-detail-item">
            <div class="c-detail-item-title">Service #</div>
            <div class="c-detail-item-value text-danger font-weight-bold">
              {{ (serviceAccount | async).service_id }}
            </div>
          </div>
          <div class="c-detail-item">
            <div class="c-detail-item-title">Service Type</div>
            <div class="c-detail-item-value text-primary">
              {{ (serviceAccount | async).service_type }}
            </div>
          </div>
          <div class="c-detail-item">
            <div class="c-detail-item-title">Description</div>
            <div class="c-detail-item-value">
              {{ (serviceAccount | async).service_desc }}
            </div>
          </div>
          <div class="c-detail-item">
            <div class="c-detail-item-title">Status</div>
            <div class="c-detail-item-value text-primary">
              {{ (serviceAccount | async).service_status }}
            </div>
          </div>
          <div class="c-detail-item">
            <div class="c-detail-item-title">Start Date</div>
            <div class="c-detail-item-value">
              {{ (serviceAccount | async).service_start }}
            </div>
          </div>
          <div class="c-detail-item">
            <div class="c-detail-item-title">Linked Asset</div>
            <div class="c-detail-item-value text-danger font-weight-bold">
              {{ (serviceAccount | async).asset_id }}
            </div>
          </div>
        </div>

        <div class="tags">
          <div
            class="text-info"
            *ngFor="let tag of (serviceAccount | async).tags"
          >
            <button
              nbButton
              outline
              shape="round"
              size="small"
              status="success"
            >
              {{ tag }}
            </button>
          </div>
        </div>
      </nb-card-body>
    </div>
  </nb-card>

  <nb-card>
    <nb-card-header>
      <h6 class="text-primary">Contact Info</h6>
    </nb-card-header>
    <div class="details-card">
      <nb-card-body>
        <div class="c-detail-item">
          <div class="c-detail-item-title text-primary">Billing Address</div>
          <div class="c-detail-item-value">
            {{ (serviceAccount | async).billing_address.street }}
          </div>
          <div class="c-detail-item-value">
            {{ (serviceAccount | async).billing_address.city }}
          </div>
          <div class="c-detail-item-value">
            {{ (serviceAccount | async).billing_address.state }}
          </div>
          <div class="c-detail-item-value">
            {{ (serviceAccount | async).billing_address.country }}
          </div>
          <div class="c-detail-item-value">
            {{ (serviceAccount | async).billing_address.postcode }}
          </div>
        </div>
        <div class="c-detail-item">
          <div class="c-detail-item-title text-primary">Contact Info</div>
          <div class="c-detail-item-value">
            {{ (serviceAccount | async).contact_info.email }}
          </div>
          <div class="c-detail-item-value">
            {{ (serviceAccount | async).contact_info.contact_info }}
          </div>
        </div>
      </nb-card-body>
    </div>
  </nb-card>
</div>

<div class="srv-detail">
  <nb-card size="medium">
    <nb-card-header>
      <span class="text-primary font-weight-bold">
        <nb-icon icon="pantone-outline" pack="eva" status="danger"></nb-icon>
        BILLS ISSUED
      </span>
    </nb-card-header>

    <div class="bill-invoice-card">
      <nb-card-body>
        <ng2-smart-table
          [settings]="tableSettings"
          [source]="localDataSource"
        ></ng2-smart-table>
        <!-- <div class="bill-invoice-container">
                    <div class="c-detail-item">
                        <div class="c-detail-item-title text-primary">Invoice ID</div>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-title text-primary">Date Issued</div>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-title text-primary">Total Due ID</div>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-title text-primary">Open Bal</div>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-title text-primary">Gross</div>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-title text-primary">Net</div>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-title text-primary">VAT</div>
                    </div>
                </div>
                <div class="bill-invoice-container" *ngFor="let invoice of (billInvoices | async)">
                    <div class="c-detail-item">
                        <a class="hvr-grow"
                           [routerLink]="'/pages/bill-invoice/' + invoice.invoice_id"
                           routerLinkActive="active">
                            <span>
                                <nb-icon icon="file-text-outline" pack="eva" status="primary"></nb-icon>
                                {{ invoice.invoice_id }}
                            </span>
                        </a>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-value">{{invoice.date_issued}}</div>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-value">{{invoice.total_due}}</div>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-value">{{'£ ' + invoice.open_bal}}</div>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-value">{{'£ ' + invoice.gross}}</div>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-value">{{'£ ' + invoice.net}}</div>
                    </div>
                    <div class="c-detail-item">
                        <div class="c-detail-item-value">{{'£ ' + invoice.vat}}</div>
                    </div>
                </div> -->
      </nb-card-body>
    </div>
  </nb-card>

  <nb-card>
    <nb-card-header>
      <span class="text-primary font-weight-bold">
        <nb-icon icon="grid-outline" pack="eva" status="danger"></nb-icon>
        ACCOUNT INFO
      </span>
    </nb-card-header>
    <div class="details-card">
      <nb-card-body>
        <div class="c-detail-item">
          <div class="c-detail-item-title text-primary">
            Outstanding Balance
          </div>
          <div class="c-detail-item-value text-danger font-weight-bolder">
            £300.70
          </div>
          <div class="c-detail-item-title text-primary">Last Payment</div>
          <div class="c-detail-item-value">2020-07-07</div>
          <div class="c-detail-item-title text-primary">
            Last Payment Amount
          </div>
          <div class="c-detail-item-value">£70.00</div>
          <div class="c-detail-item-title text-primary">Last Bill Date</div>
          <div class="c-detail-item-value">2020-08-01</div>
          <div class="c-detail-item-title text-primary">Last Bill Amount</div>
          <div class="c-detail-item-value">£370.70</div>
        </div>
      </nb-card-body>
    </div>
  </nb-card>
</div>
